import collections
        
        MOD = 10**9 + 7
        
        # Count points on each horizontal line
        freq = collections.Counter()
        for x, y in points:
            freq[y] += 1
        
        # For each y-level, compute number of horizontal segments = C(k,2)
        segs = []
        for k in freq.values():
            if k >= 2:
                segs.append(k * (k - 1) // 2)
        
        if len(segs) < 2:
            return 0
        
        total = sum(segs) % MOD
        sq = sum((s * s) % MOD for s in segs) % MOD
        
        # Using formula: (sum(ci)^2 - sum(ci^2)) / 2
        ans = (total * total - sq) % MOD
        ans = (ans * pow(2, MOD - 2, MOD)) % MOD  # divide by 2 under mod
        
        return ans % MOD



  a horizontal trapezoid must have:

One horizontal segment on some y-level

Another horizontal segment on a different y-level

So:

Group points by y-coordinate.

On each y = constant line with k points, the number of horizontal segments is:
