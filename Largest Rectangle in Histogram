class Solution(object):
    def largestRectangleArea(self, heights):
        st = [] 
        n = len(heights)
        ma = 0
        for i in range(len(heights)):
            h = heights[i]
            start = i
            while st and st[-1][1] > h:
                idx, height = st.pop()
                ma = max(ma, height * (i - idx))
                start = idx
            st.append((start, h))
        for idx, height in st:
            ma = max(ma, height * (n - idx))
        return ma
        """
        :type heights: List[int]
        :rtype: int
        """
